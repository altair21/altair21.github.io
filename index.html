<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> altair21的学习笔记</title><meta name="description" content="Develop learner, football fans"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.jpg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://note.altair21.org/atom.xml" title="altair21的学习笔记"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/avatar.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link active">首页</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">关于</a></li><li class="nav-list-item"><a href="/books" target="_self" class="nav-list-link">书单</a></li><li class="nav-list-item"><a href="https://github.com/altair21" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><section class="container"><ul class="home post-list"><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/12/01/iOS自定义转场动画/" class="post-title-link">iOS自定义转场动画</a></h2><div class="post-info">2016年12月1日</div><div class="post-content"><h3 id="0x00__u524D_u620F"><a href="#0x00__u524D_u620F" class="headerlink" title="0x00 前戏"></a>0x00 前戏</h3><p>半年前我写过一篇模仿花瓣app转场动画的<a href="https://note.altair21.org/2016/06/09/%E6%A8%A1%E4%BB%BF%E8%8A%B1%E7%93%A3APP%E7%9A%84%E8%BD%AC%E5%9C%BA%E5%8A%A8%E7%94%BB%E5%AE%9E%E7%8E%B0/">文章</a>。<br>当时的情况是我使用了 UINavigationController，用了一种不太正常的做法实现了效果。最近一直在看 Raywenderlich 的动画书，恰好看到了一样的动画效果，不过书中的是基于 <code>func present(_ viewControllerToPresent: UIViewController, animated flag: Bool, completion completion: (() -&gt; Void)?)</code>实现。</p>
<p>这篇文章和之前的文章实现了一样的效果，不过使用的是不同的方法。</p></div><a href="/2016/12/01/iOS自定义转场动画/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/11/10/git log 占位符总结/" class="post-title-link">git log 常用占位符总结</a></h2><div class="post-info">2016年11月10日</div><div class="post-content"><p>此处的占位符是指<code>git log --pretty=format:&quot;&quot;</code>双引号中的占位符</p>
<table>
<thead>
<tr>
<th>占位符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>%H</td>
<td>commit hash</td>
</tr>
<tr>
<td>%h</td>
<td>简短 commit hash</td>
</tr>
<tr>
<td>%T</td>
<td>tree hash</td>
</tr>
<tr>
<td>%t</td>
<td>简短的 tree hash</td>
</tr>
<tr>
<td>%P</td>
<td>parent hash</td>
</tr>
<tr>
<td>%p</td>
<td>简短的 parent hash</td>
</tr>
<tr>
<td>%an</td>
<td>作者名字</td>
</tr>
<tr>
<td>%ae</td>
<td>作者邮箱</td>
</tr>
<tr>
<td>%ad</td>
<td>日期，<code>--date=</code> 指定的格式</td>
</tr>
<tr>
<td>%aD</td>
<td>日期，RFC2822格式</td>
</tr>
<tr>
<td>%ar</td>
<td>日期，相对格式</td>
</tr>
<tr>
<td>%at</td>
<td>日期，Unix timestamp</td>
</tr>
<tr>
<td>%ai</td>
<td>日期，ISO 8601格式</td>
</tr>
<tr>
<td>%cn</td>
<td>提交者名字</td>
</tr>
<tr>
<td>%ce</td>
<td>提交者邮箱</td>
</tr>
<tr>
<td>%cd</td>
<td>提交日期，<code>--date=</code> 指定的格式</td>
</tr>
<tr>
<td>%cD</td>
<td>提交日期，RFC2822格式</td>
</tr>
<tr>
<td>%cr</td>
<td>提交日期，相对格式</td>
</tr>
<tr>
<td>%ct</td>
<td>提交日期，Unix timestamp</td>
</tr>
<tr>
<td>%ci</td>
<td>提交日期，ISO 8601格式</td>
</tr>
<tr>
<td>%d</td>
<td>ref 名称，(branch、tag)</td>
</tr>
<tr>
<td>%s</td>
<td>commit 信息标题</td>
</tr>
<tr>
<td>%b</td>
<td>commit 信息内容</td>
</tr>
<tr>
<td>%Cred</td>
<td>切换到红色</td>
</tr>
<tr>
<td>%Cgreen</td>
<td>切换到绿色</td>
</tr>
<tr>
<td>%Cblue</td>
<td>切换到蓝色</td>
</tr>
<tr>
<td>%Creset</td>
<td>重置颜色</td>
</tr>
<tr>
<td>%C(…)</td>
<td>自定义颜色</td>
</tr>
<tr>
<td>%n</td>
<td>换行</td>
</tr>
</tbody>
</table></div><a href="/2016/11/10/git log 占位符总结/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/10/19/AngularJS 中$timeout 和 $interval 引发的问题/" class="post-title-link">AngularJS 中 $timeout 和  $interval 引发的问题</a></h2><div class="post-info">2016年10月19日</div><div class="post-content"><h3 id="0x00"><a href="#0x00" class="headerlink" title="0x00"></a>0x00</h3><p>前几天遇到了一个问题，就是在 AngularJS 中 $state 发生改变（或者称之为路由发生变化）不会清空前一个 scope 的内容，具体情景如下图</p>
<p><img src="https://ws4.sinaimg.cn/large/9ce43335jw1f8xsm8wz9lg20a1057ju2.gif" alt=""></p>
<p>我在这个 scope 添加了一个间隔十分钟的 $interval，为了方便演示我改成了三秒钟的，当我进行数次在这个页面和其他页面间切换后，发现这个 scope 里的 $interval 重叠了，之前的 $interval 都没有销毁，不仅表现出现了错误，还造成了内存泄漏。</p></div><a href="/2016/10/19/AngularJS 中$timeout 和 $interval 引发的问题/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/08/12/Chrome extension开发小记/" class="post-title-link">Chrome extension开发小记</a></h2><div class="post-info">2016年8月12日</div><div class="post-content"><h2 id="0x00"><a href="#0x00" class="headerlink" title="0x00"></a>0x00</h2><p>每次访问stackoverflow都有一点很烦，就是我如果想看一个回答发布的具体时间，只能把鼠标移到时间上等待两秒出现悬浮窗来显示。由于技术发展太快，所以有些五年前解决这个问题的相关API到了当前很可能已经不适用了或者已有了更好的解决办法，所以stackoverflow上我也会尽量看时间最近的讨论，显示完整的回答/评论发布时间对我来说就会方便很多。<br>为了解决这个痛点，我一直打算自己搞一个chrome的小扩展来修改页面的DOM，刚好今天手头活干完了，看了一下chrome扩展开发的文档，发现比想象中要简单很多，于是自己试了一下，完成了这个小扩展。</p></div><a href="/2016/08/12/Chrome extension开发小记/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/08/02/OS X终端配置/" class="post-title-link">OS X终端配置</a></h2><div class="post-info">2016年8月2日</div><div class="post-content"><h2 id="u524D_u8A00"><a href="#u524D_u8A00" class="headerlink" title="前言"></a>前言</h2><p>我在OS X下也进行了不少次终端配置，每一次配置都忘了以往是怎么配置的，又各种google。刚好昨天公司配了台新的笔记本，我就把终端配置总结一下，方便自己日后查看。其实关于OS X的终端配置，池建强老师的<a href="http://macshuo.com/?p=676">这篇文章</a>就很好，也是我第一次配置的重要参照。</p></div><a href="/2016/08/02/OS X终端配置/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/06/19/iOS中实现图片拉伸/" class="post-title-link">iOS中实现图片拉伸</a></h2><div class="post-info">2016年6月19日</div><div class="post-content"><h2 id="0x00"><a href="#0x00" class="headerlink" title="0x00"></a>0x00</h2><p>这是我在公司做项目时遇到的一个需求，就是实现类似下图的效果<br><img src="https://ws2.sinaimg.cn/large/0060lm7Tgw1f50s5xqbgvg309i0e9drj.gif" alt=""></p>
<p>右侧气泡的切图是这样的：<br><img src="https://ws2.sinaimg.cn/large/0060lm7Tgw1f50s7kh33pj302f0310sh.jpg" alt=""></p>
<p>就是要实现这个切图的拉伸，达到动图中的效果，气泡的尖角始终对准时间线上的小圆点。（ps：具备像素眼的童鞋可能发现这几个气泡的高度不是等差的，这是因为我在气泡的下面还加了一个透明的view，气泡的边线与该view的边线间有一定的间隙，label显示的是tableViewCell的整体高度）</p></div><a href="/2016/06/19/iOS中实现图片拉伸/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/06/09/模仿花瓣APP的转场动画实现/" class="post-title-link">模仿花瓣APP的转场动画实现</a></h2><div class="post-info">2016年6月9日</div><div class="post-content"><hr>
<h3 id="2016-11-30_u66F4_u65B0"><a href="#2016-11-30_u66F4_u65B0" class="headerlink" title="2016.11.30更新"></a><font color='red'>2016.11.30更新</font></h3><p>最近在看 Raywenderlich 的动画书，碰巧看到了一样的转场动画，书中的动画是不在 UINavigationController 中的情况。我新写了一篇<a href="https://note.altair21.org/2016/12/01/iOS%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BD%AC%E5%9C%BA%E5%8A%A8%E7%94%BB/">文章</a>介绍正常的做法。</p>
<p>然后根据这段时间的积累，我优化了一下之前的代码，具体请看看正文部分。</p>
<hr>
<h2 id="u52A8_u753B_u6548_u679C"><a href="#u52A8_u753B_u6548_u679C" class="headerlink" title="动画效果"></a>动画效果</h2><p>花瓣APP的转场动画比较有意思，我第一次看到就喜欢上了，为了美化自己毕业设计的游戏APP，我模仿了这个动画效果，花瓣APP的动画效果是这样的：<br><img src="https://ws2.sinaimg.cn/large/0060lm7Tgw1f4pc8bjddyg30a90hxnpe.gif" alt=""></p>
<p>这是我自己模仿的动画效果：<br><img src="https://ws4.sinaimg.cn/large/0060lm7Tgw1f4pda0lk6sg30m00glu0z.gif" alt=""></p>
<p>其实效果还可以，不流畅是gif图的问题。</p></div><a href="/2016/06/09/模仿花瓣APP的转场动画实现/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/05/16/我的毕业设计/" class="post-title-link">我的毕业设计</a></h2><div class="post-info">2016年5月16日</div><div class="post-content"><h3 id="u6982_u8FF0"><a href="#u6982_u8FF0" class="headerlink" title="概述"></a>概述</h3><p>这是我的本科毕业设计项目，一个iOS平台的2D游戏，使用SpriteKit引擎编写，游戏玩法仿照了<a href="https://www.hackingwithswift.com/">HackWithSwift</a>第26个项目。<br>App的后台使用django，做了三个简单的API，分别是上传文件、下载文件和返回文件列表，具体内容参见<a href="https://github.com/altair21/MyGraduationProject/blob/master/Server/README.md">服务端WIKI</a></p></div><a href="/2016/05/16/我的毕业设计/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/01/16/用三种方法解决iOS8中TableViewCell的RightDetail不显示内容的问题/" class="post-title-link">用三种方法解决iOS8中TableViewCell的RightDetail不显示内容的问题</a></h2><div class="post-info">2016年1月16日</div><div class="post-content"><h2 id="Issue"><a href="#Issue" class="headerlink" title="Issue"></a>Issue</h2><p>　　不知道你有没有遇到过这样的问题，如下图<br>　　<img src="https://ws3.sinaimg.cn/large/0060lm7Tgw1f80a36nfgjj30r80933zm.jpg" alt=""><br>　　第一个ViewController中有一个TableView，只有一个Cell，style为right detail，点击这个Cell会push进入第二个ViewController。第二个ViewController中有一个TextView，我设置了代理方法修改这个TextView的内容会更新到第一个ViewController的那个Cell的detailLabel里，但是当我清空TextView的内容后，再添加新的内容，detailLabel没法立即更新显示，当你手指（鼠标）点上去时它显示了出来，就像图片中显示的那样。<br>　　我进行了很多次测试，发现每一次如果是TextView清空-后退-再进入-添加内容-再后退，都会导致这个问题产生，不论是真机还是模拟器。我只在iOS9和iOS8中进行了测试，发现iOS9中不存在这个问题，不知道是不是iOS8的bug，可以看看stackoverflow上<a href="http://stackoverflow.com/questions/25987135/ios-8-uitableviewcell-detail-text-not-correctly-updating">这篇讨论</a>。<br>　　我总结了三种方法来解决这个问题，demo文件传到了github上面：<a href="https://github.com/altair21/RightDetail_issueDemo">https://github.com/altair21/RightDetail_issueDemo</a>，有三个branch分别是三种解决方案。<br>　　解决问题之前需要先搞清楚问题出在哪里，我在第一个ViewController的viewWillAppear方法里在控制台输出detailLabel的frame信息，发现detailLabel的frame在每次输出时都是上一个修改之前的值，在这个问题中就是清空之后frame的宽和高还是清空之前的值，只是此时detailLabel没有文字，再添加时返回回来frame的宽和高变为(0,0)，此时即使有文字也显示不出来了。<br>　　知道问题所在之后就好解决了，我想到了三种方法，分别对应三个branch的解决方案。<br>　　<br></div><a href="/2016/01/16/用三种方法解决iOS8中TableViewCell的RightDetail不显示内容的问题/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/01/08/githug攻略(1~55)/" class="post-title-link">githug攻略(1~55)</a></h2><div class="post-info">2016年1月8日</div><div class="post-content"><p>　　githug是一个让你熟悉git命令的小游戏，项目地址在这里<a href="https://github.com/Gazler/githug">https://github.com/Gazler/githug</a> 。看了一下commit记录发现是几年前就有这个了，只是前些天我的rss几个源都推荐了，恰好又在v2ex上看到，就试玩了一下。<br>　　我之前一直是使用<a href="https://www.sourcetreeapp.com/">SourceTree</a>这个GUI软件来使用git，这个软件真的很好用。我就借此机会通过githug来强化一下对git命令的使用，顺便把我的攻略粘在这里以供参考。大部分是我自己写的，有些黑魔法和一些没见过的指令是我在网上查的，比如41，和44往后99%的内容:p。<br></div><a href="/2016/01/08/githug攻略(1~55)/" class="read-more">...阅读全文</a></article></li></ul></section><footer><div class="paginator"><a href="/page/2/" class="next">下一页</a></div><div class="copyright"><p>© 2014 - 2016 <a href="http://note.altair21.org">altair21</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-56273068-4",'auto');ga('send','pageview');</script></body></html>