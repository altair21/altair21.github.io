<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> githug攻略(1~55) · altair21的学习笔记</title><meta name="description" content="githug攻略(1~55) - altair21"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.jpg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://note.altair21.org/atom.xml" title="altair21的学习笔记"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/avatar.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">首页</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">关于</a></li><li class="nav-list-item"><a href="/books" target="_self" class="nav-list-link">书单</a></li><li class="nav-list-item"><a href="https://github.com/altair21" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">githug攻略(1~55)</h1><div class="post-info">2016年1月8日</div><div class="post-content"><p>　　githug是一个让你熟悉git命令的小游戏，项目地址在这里<a href="https://github.com/Gazler/githug" target="_blank" rel="external">https://github.com/Gazler/githug</a> 。看了一下commit记录发现是几年前就有这个了，只是前些天我的rss几个源都推荐了，恰好又在v2ex上看到，就试玩了一下。<br>　　我之前一直是使用<a href="https://www.sourcetreeapp.com/" target="_blank" rel="external">SourceTree</a>这个GUI软件来使用git，这个软件真的很好用。我就借此机会通过githug来强化一下对git命令的使用，顺便把我的攻略粘在这里以供参考。大部分是我自己写的，有些黑魔法和一些没见过的指令是我在网上查的，比如41，和44往后99%的内容:p。<br><a id="more"></a><br>　　githug的安装和使用在项目主页里都有，我就不多说了。</p>
<hr>
<h1 id="Level1-init"><a href="#Level1-init" class="headerlink" title="Level1: init"></a>Level1: init</h1><p>A new directory, <code>git_hug</code>, has been created; initialize an empty repository in it.</p>
<p>git仓库初始化<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> git_hug/</div><div class="line">git init</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level2-config"><a href="#Level2-config" class="headerlink" title="Level2: config"></a>Level2: config</h1><p>Set up your git name and email, this is important so that your commits can be identified.</p>
<p>设置你使用git的名字和邮箱地址<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">git</span> <span class="selector-tag">config</span> <span class="selector-tag">--global</span> <span class="selector-tag">user</span><span class="selector-class">.name</span> <span class="selector-tag">altair21</span></div><div class="line"><span class="selector-tag">git</span> <span class="selector-tag">config</span> <span class="selector-tag">--global</span> <span class="selector-tag">user</span><span class="selector-class">.email</span> <span class="selector-tag">lovealtair21</span>@<span class="keyword">gmail</span>.<span class="keyword">com</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level3-add"><a href="#Level3-add" class="headerlink" title="Level3: add"></a>Level3: add</h1><p>There is a file in your folder called <code>README</code>, you should add it to your staging area<br>Note: You start each level with a new repo. Don’t look for files from the previous one.</p>
<p>add命令的使用<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">add</span><span class="bash"> README</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level4-commit"><a href="#Level4-commit" class="headerlink" title="Level4: commit"></a>Level4: commit</h1><p>The <code>README</code> file has been added to your staging area, now commit it.</p>
<p>commit命令的使用<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git</span> commit -m <span class="string">"add README"</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level5-clone"><a href="#Level5-clone" class="headerlink" title="Level5: clone"></a>Level5: clone</h1><p>Clone the repository at <a href="https://github.com/Gazler/cloneme" target="_blank" rel="external">https://github.com/Gazler/cloneme</a>.</p>
<p>clone命令的使用<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">clone</span> <span class="title">https</span>://github.com/Gazler/cloneme</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level6-clone-to-folder"><a href="#Level6-clone-to-folder" class="headerlink" title="Level6: clone_to_folder"></a>Level6: clone_to_folder</h1><p>Clone the repository at <a href="https://github.com/Gazler/cloneme" target="_blank" rel="external">https://github.com/Gazler/cloneme</a> to <code>my_cloned_repo</code></p>
<p>clone命令不加任何参数是clone到当前目录，现在clone到指定目录<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">clone</span> <span class="title">https</span>://github.com/Gazler/cloneme my_cloned_repo</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level7-ignore"><a href="#Level7-ignore" class="headerlink" title="Level7: ignore"></a>Level7: ignore</h1><p>The text editor ‘vim’ creates files ending in <code>.swp</code> (swap files) for all files that are currently open.  We don’t want them creeping into the repository.  Make this repository ignore <code>.swp</code> files.</p>
<p>.gitignore文件的使用，忽略后缀为swp的文件<br>在.gitignore文件中添加一行：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">*<span class="selector-class">.swp</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level8-include"><a href="#Level8-include" class="headerlink" title="Level8: include"></a>Level8: include</h1><p>Notice a few files with the ‘.a’ extension.  We want git to ignore all but the ‘lib.a’ file.</p>
<p>还是.gitignore文件的使用，忽略后缀为a的文件，但是不忽略lib.a文件<br>在.gitignore文件中添加：<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">*.a</div><div class="line">!<span class="class"><span class="keyword">lib</span>.<span class="title">a</span></span></div></pre></td></tr></table></figure></p>
<p>取反符号在这里会起作用</p>
<hr>
<h1 id="Level9-status"><a href="#Level9-status" class="headerlink" title="Level9: status"></a>Level9: status</h1><p>There are some files in this repository, one of the files is untracked, which file is it?</p>
<p>status命令的使用<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git status</span></div></pre></td></tr></table></figure></p>
<p>结果如图：<br><img src="https://ws1.sinaimg.cn/large/9ce43335jw1f9ko2p9ejsj20tg0huadz.jpg" alt=""></p>
<p>Untracked files一目了然</p>
<hr>
<h1 id="Level10-number-of-files-committed"><a href="#Level10-number-of-files-committed" class="headerlink" title="Level10: number_of_files_committed"></a>Level10: number_of_files_committed</h1><p>There are some files in this repository, how many of the files will be committed?</p>
<p>同样是status命令<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git status</span></div></pre></td></tr></table></figure></p>
<p>输入文件个数就行了</p>
<hr>
<h1 id="Level11-rm"><a href="#Level11-rm" class="headerlink" title="Level11: rm"></a>Level11: rm</h1><p>A file has been removed from the working tree, however the file was not removed from the repository.  Find out what this file was and remove it.</p>
<p>先找到被删除的文件，再从仓库中删除<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">git</span> <span class="selector-tag">status</span></div><div class="line"><span class="selector-tag">git</span> <span class="selector-tag">rm</span> <span class="selector-tag">deleteme</span><span class="selector-class">.rb</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level12-rm-cached"><a href="#Level12-rm-cached" class="headerlink" title="Level12: rm_cached"></a>Level12: rm_cached</h1><p>A file has accidentally been added to your staging area, find out which file and remove it from the staging area.  <em>NOTE</em> Do not remove the file from the file system, only from git.</p>
<p>先找到在暂存区的文件，在从暂存区移除<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">status</span></div><div class="line">git rm <span class="comment">--cached deleteme.rb</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level13-stash"><a href="#Level13-stash" class="headerlink" title="Level13: stash"></a>Level13: stash</h1><p>You’ve made some changes and want to work on them later. You should save them, but don’t commit them.</p>
<p>stash命令的使用<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git stash</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level14-rename"><a href="#Level14-rename" class="headerlink" title="Level14: rename"></a>Level14: rename</h1><p>We have a file called <code>oldfile.txt</code>. We want to rename it to <code>newfile.txt</code> and stage this change.</p>
<p>修改文件命并且添加到暂存区<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">git</span> <span class="selector-tag">mv</span> <span class="selector-tag">oldfile</span><span class="selector-class">.txt</span> <span class="selector-tag">newfile</span><span class="selector-class">.txt</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level15-restructure"><a href="#Level15-restructure" class="headerlink" title="Level15: restructure"></a>Level15: restructure</h1><p>You added some files to your repository, but now realize that your project needs to be restructured.  Make a new folder named <code>src</code> and using Git move all of the .html files into this folder.</p>
<p>还是git mv<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">mkdir</span> src</div><div class="line">git mv <span class="regexp">*.html</span> src</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level16-log"><a href="#Level16-log" class="headerlink" title="Level16: log"></a>Level16: log</h1><p>You will be asked for the hash of most recent commit.  You will need to investigate the logs of the repository for this.</p>
<p>log命令的使用，找到最新一发commit的哈希值<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">log</span> <span class="number">-1</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level17-tag"><a href="#Level17-tag" class="headerlink" title="Level17: tag"></a>Level17: tag</h1><p>We have a git repo and we want to tag the current commit with <code>new_tag</code>.</p>
<p>tag命令的使用<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">tag</span> <span class="title">new_tag</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level18-push-tags"><a href="#Level18-push-tags" class="headerlink" title="Level18: push_tags"></a>Level18: push_tags</h1><p>There are tags in the repository that aren’t pushed into remote repository. Push them now.</p>
<p>push标签<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">push</span> <span class="built_in">origin</span> --tags</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level19-commit-amend"><a href="#Level19-commit-amend" class="headerlink" title="Level19: commit_amend"></a>Level19: commit_amend</h1><p>The <code>README</code> file has been committed, but it looks like the file <code>forgotten_file.rb</code> was missing from the commit.  Add the file and amend your previous commit to include it.</p>
<p>追加commit<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">add</span><span class="bash"> forgotten_file.rb</span></div><div class="line">git commit --amend -m <span class="string">"aaa"</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level20-commit-in-future"><a href="#Level20-commit-in-future" class="headerlink" title="Level20: commit_in_future"></a>Level20: commit_in_future</h1><p>Commit your changes with the future date (e.g. tomorrow).</p>
<p>自定义commit时间<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git commit --date=<span class="number">2016.01</span><span class="number">.10</span> -m <span class="string">"commit"</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level21-reset"><a href="#Level21-reset" class="headerlink" title="Level21: reset"></a>Level21: reset</h1><p>There are two files to be committed.  The goal was to add each file as a separate commit, however both were added by accident.  Unstage the file <code>to_commit_second.rb</code> using the reset command (don’t commit anything).</p>
<p>unstage操作<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">reset</span> <span class="keyword">HEAD</span> to_commit_second.rb</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level22-reset-soft"><a href="#Level22-reset-soft" class="headerlink" title="Level22: reset_soft"></a>Level22: reset_soft</h1><p>You committed too soon. Now you want to undo the last commit, while keeping the index.</p>
<p>版本回退并且修改保留到暂存区<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">reset</span> <span class="comment">--soft HEAD~1</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level23-checkout-file"><a href="#Level23-checkout-file" class="headerlink" title="Level23: checkout_file"></a>Level23: checkout_file</h1><p>A file has been modified, but you don’t want to keep the modification.  Checkout the <code>config.rb</code> file from the last commit.</p>
<p>丢弃修改<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git checkout <span class="built_in">config</span>.rb</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level24-remote"><a href="#Level24-remote" class="headerlink" title="Level24: remote"></a>Level24: remote</h1><p>This project has a remote repository.  Identify it.</p>
<p>remote命令的使用<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git remote</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level25-remote-url"><a href="#Level25-remote-url" class="headerlink" title="Level25: remote_url"></a>Level25: remote_url</h1><p>The remote repositories have a url associated to them.  Please enter the url of remote_location.</p>
<p>还是remote命令的使用<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git remote -v</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level26-pull"><a href="#Level26-pull" class="headerlink" title="Level26: pull"></a>Level26: pull</h1><p>You need to pull changes from your origin repository.</p>
<p>pull命令的使用<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git pull origin <span class="literal">master</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level27-remote-add"><a href="#Level27-remote-add" class="headerlink" title="Level27: remote_add"></a>Level27: remote_add</h1><p>Add a remote repository called <code>origin</code> with the url <a href="https://github.com/githug/githug" target="_blank" rel="external">https://github.com/githug/githug</a></p>
<p>添加远程仓库<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git remote <span class="built_in">add</span> origin http<span class="variable">s:</span>//github.<span class="keyword">com</span>/githug/githug</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level28-push"><a href="#Level28-push" class="headerlink" title="Level28: push"></a>Level28: push</h1><p>Your local master branch has diverged from the remote origin/master branch. Rebase your commit onto origin/master and push it to remote.</p>
<p>rebase命令的使用<br>这个命令没用过，网上找的答案<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git rebase origin/<span class="keyword">master</span></div><div class="line"><span class="title">git</span> push origin <span class="literal">master</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level29-diff"><a href="#Level29-diff" class="headerlink" title="Level29: diff"></a>Level29: diff</h1><p>There have been modifications to the <code>app.rb</code> file since your last commit.  Find out which line has changed.</p>
<p>diff命令的使用<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git diff</span></div></pre></td></tr></table></figure></p>
<p>如下图所示：<br><img src="https://ws4.sinaimg.cn/large/9ce43335jw1f9lvxcwr4nj20ik0bediu.jpg" alt=""></p>
<p>蓝色的那行格式是<code>@@ -start,count +start,count @@</code>，红色表示被删除，绿色表示新增，所以变化的行号是26</p>
<hr>
<h1 id="Level30-blame"><a href="#Level30-blame" class="headerlink" title="Level30: blame"></a>Level30: blame</h1><p>Someone has put a password inside the file <code>config.rb</code> find out who it was.</p>
<p>blame命令的使用<br>找到密码对应行的提交者<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">blame </span><span class="built_in">config</span>.rb</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level31-branch"><a href="#Level31-branch" class="headerlink" title="Level31: branch"></a>Level31: branch</h1><p>You want to work on a piece of code that has the potential to break things, create the branch test_code.</p>
<p>创建branch<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">git</span> <span class="keyword">branch </span>test_code</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level32-checkout"><a href="#Level32-checkout" class="headerlink" title="Level32: checkout"></a>Level32: checkout</h1><p>Create and switch to a new branch called my_branch.  You will need to create a branch like you did in the previous level.</p>
<p>checkout命令的使用，创建branch并切换到这个branch<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git checkout -<span class="selector-tag">b</span> my_branch</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level33-checkout-tag"><a href="#Level33-checkout-tag" class="headerlink" title="Level33: checkout_tag"></a>Level33: checkout_tag</h1><p>You need to fix a bug in the version 1.2 of your app. Checkout the tag <code>v1.2</code>.</p>
<p>还是checkout命令的使用<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">git</span> checkout <span class="built_in">v1</span>.<span class="number">2</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level34-checkout-tag-over-branch"><a href="#Level34-checkout-tag-over-branch" class="headerlink" title="Level34: checkout_tag_over_branch"></a>Level34: checkout_tag_over_branch</h1><p>You need to fix a bug in the version 1.2 of your app. Checkout the tag <code>v1.2</code> (Note: There is also a branch named <code>v1.2</code>).</p>
<p>上面的命令中的v1.2是标签名，在没有同名的分支时可以这么用，现在有个同名的分支也叫v1.2，上面的命令默认是切换到v1.2分支，如果要切换到标签就要用下面的命令了：<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">git</span> checkout tags/<span class="built_in">v1</span>.<span class="number">2</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level35-branch-at"><a href="#Level35-branch-at" class="headerlink" title="Level35: branch_at"></a>Level35: branch_at</h1><p>You forgot to branch at the previous commit and made a commit on top of it. Create branch test_branch at the commit before the last.</p>
<p>把上一发commit添加到新的分支，这个是网上查的<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">git</span> <span class="keyword">branch </span>test_branch HEAD~<span class="number">1</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level36-delete-branch"><a href="#Level36-delete-branch" class="headerlink" title="Level36: delete_branch"></a>Level36: delete_branch</h1><p>You have created too many branches for your project. There is an old branch in your repo called ‘delete_me’, you should delete it.</p>
<p>删除branch<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">git</span> <span class="keyword">branch </span>-d delete_me</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level37-push-branch"><a href="#Level37-push-branch" class="headerlink" title="Level37: push_branch"></a>Level37: push_branch</h1><p>You’ve made some changes to a local branch and want to share it, but aren’t yet ready to merge it with the ‘master’ branch.  Push only ‘test_branch’ to the remote repository</p>
<p>push branch<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">push</span> <span class="built_in">origin</span> test_branch</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level38-merge"><a href="#Level38-merge" class="headerlink" title="Level38: merge"></a>Level38: merge</h1><p>We have a file in the branch ‘feature’; Let’s merge it to the master branch.</p>
<p>merge命令的使用<br><figure class="highlight cos"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">merge</span> feature</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level39-fetch"><a href="#Level39-fetch" class="headerlink" title="Level39: fetch"></a>Level39: fetch</h1><p>Looks like a new branch was pushed into our remote repository. Get the changes without merging them with the local repository</p>
<p>fetch命令的使用<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git fetch origin</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level40-rebase"><a href="#Level40-rebase" class="headerlink" title="Level40: rebase"></a>Level40: rebase</h1><p>We are using a git rebase workflow and the feature branch is ready to go into master. Let’s rebase the feature branch onto our master branch.</p>
<p>rebase命令的使用<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git checkout feature</div><div class="line">git rebase <span class="literal">master</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level41-repack"><a href="#Level41-repack" class="headerlink" title="Level41: repack"></a>Level41: repack</h1><p>Optimise how your repository is packaged ensuring that redundant packs are removed.</p>
<p>这个命令压根没见过，help里的说明如图<br><img src="https://ws2.sinaimg.cn/large/9ce43335jw1f9lyuar3wtj212s0aw0xh.jpg" alt=""><br><img src="https://ws4.sinaimg.cn/large/9ce43335jw1f9lyv3e4xij20w804mdhm.jpg" alt=""><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git repack <span class="_">-d</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level42-cherry-pick"><a href="#Level42-cherry-pick" class="headerlink" title="Level42: cherry-pick"></a>Level42: cherry-pick</h1><p>Your new feature isn’t worth the time and you’re going to delete it. But it has one commit that fills in <code>README</code> file, and you want this commit to be on the master as well.</p>
<p>cherry-pick命令的使用，找到对应的commit id<br><figure class="highlight cos"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git log --pretty=format:'<span class="built_in">%h</span> - <span class="built_in">%d</span> <span class="built_in">%s</span> : <span class="built_in">%cr</span> &lt;<span class="built_in">%an</span> - <span class="built_in">%ae</span>&gt;' --graph --branches</div></pre></td></tr></table></figure></p>
<p>log信息如下图所示：<br><img src="https://ws2.sinaimg.cn/large/9ce43335jw1f9lzzya3sbj21fi0a011n.jpg" alt=""></p>
<p>根据commit信息找到对应的hash，然后再执行cherry-pick<br><figure class="highlight llvm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git cherry-pick ca<span class="number">32</span>a<span class="number">6</span>dac<span class="number">7</span>b<span class="number">6</span>f<span class="number">97975</span>edbe<span class="number">19</span>a<span class="number">4296</span><span class="keyword">c</span><span class="number">2</span>ee<span class="number">7682</span>f<span class="number">68</span></div></pre></td></tr></table></figure></p>
<p>关于log format的占位符说明，可以参照<a href="https://note.altair21.org/2016/11/10/git%20log%20%E5%8D%A0%E4%BD%8D%E7%AC%A6%E6%80%BB%E7%BB%93/">这里</a></p>
<hr>
<h1 id="Level43-grep"><a href="#Level43-grep" class="headerlink" title="Level43: grep"></a>Level43: grep</h1><p>Your project’s deadline approaches, you should evaluate how many TODOs are left in your code</p>
<p>找到”TODO”字符串的个数<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git grep -c TODO</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level44-rename-commit"><a href="#Level44-rename-commit" class="headerlink" title="Level44: rename_commit"></a>Level44: rename_commit</h1><p>Correct the typo in the message of your first (non-root) commit.</p>
<p>修改commit信息<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">log</span></div><div class="line">git rebase -<span class="built_in">i</span> <span class="number">601</span>fa90</div></pre></td></tr></table></figure></p>
<p>将vim打开的文件中First coommit前的pick改为reword，保存退出，自动打开新的文件，修改commit信息</p>
<hr>
<h1 id="Level45-squash"><a href="#Level45-squash" class="headerlink" title="Level45: squash"></a>Level45: squash</h1><p>You have committed several times but would like all those changes to be one commit.</p>
<p>合并几个commit为一个<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">log</span></div><div class="line">git rebase -<span class="built_in">i</span> <span class="number">618</span>a846</div></pre></td></tr></table></figure></p>
<p>进入vim将commit前的pick改为s，留着第一发commit不改</p>
<hr>
<h1 id="Level46-merge-squash"><a href="#Level46-merge-squash" class="headerlink" title="Level46: merge_squash"></a>Level46: merge_squash</h1><p>合并分支并提交commit<br><figure class="highlight smali"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git merge --squash<span class="built_in"> long-feature-branch</span></div><div class="line">git commit -m <span class="string">"commit"</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level47-reorder"><a href="#Level47-reorder" class="headerlink" title="Level47: reorder"></a>Level47: reorder</h1><p>You have committed several times but in the wrong order. Please reorder your commits.</p>
<p>改变commit顺序<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">log</span></div><div class="line">git rebase -<span class="built_in">i</span> <span class="number">89</span>afdd</div></pre></td></tr></table></figure></p>
<p>进入vim将第二行和第三行互换位置</p>
<hr>
<h1 id="Level48-bisect"><a href="#Level48-bisect" class="headerlink" title="Level48: bisect"></a>Level48: bisect</h1><p>A bug was introduced somewhere along the way.  You know that running <code>ruby prog.rb 5</code> should output 15.  You can also run <code>make test</code>.  What are the first 7 chars of the hash of the commit that introduced the bug.</p>
<p>用二分法找到结果值和预期值第一次不同是在哪一发commit<br>先将头尾commit分别设置为good和bad，二分找的时候对每一个middle值手动判断good/bad，最后定位到第一次bad的位置<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git bisect <span class="literal">start</span></div><div class="line">git bisect good f608824</div><div class="line">git bisect bad <span class="keyword">master</span></div><div class="line"><span class="title">ruby</span> prog.rb <span class="number">5</span> <span class="comment">#看结果是否为15，标记good/bad，如此反复</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level49-stage-lines"><a href="#Level49-stage-lines" class="headerlink" title="Level49: stage_lines"></a>Level49: stage_lines</h1><p>You’ve made changes within a single file that belong to two different features, but neither of the changes are yet staged. Stage only the changes belonging to the first feature.</p>
<p>只将文件中的某些行添加到暂存区<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">add</span><span class="bash"> feature.rb <span class="_">-e</span></span></div></pre></td></tr></table></figure></p>
<p>删掉不想添加的行，保存。（这种操作在SourceTree里方便）</p>
<hr>
<h1 id="Level50-find-old-branch"><a href="#Level50-find-old-branch" class="headerlink" title="Level50: find_old_branch"></a>Level50: find_old_branch</h1><p>You have been working on a branch but got distracted by a major issue and forgot the name of it. Switch back to that branch.</p>
<p>reflog（reference log的缩写）命令的使用，找出之前所在的分支<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git</span> reflog</div><div class="line">git checkout solve_world_hunger</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level51-revert"><a href="#Level51-revert" class="headerlink" title="Level51: revert"></a>Level51: revert</h1><p>You have committed several times but want to undo the middle commit.<br>All commits have been pushed, so you can’t change existing history.</p>
<p>revert命令的使用<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">log</span></div><div class="line">git <span class="built_in">revert</span> <span class="number">01719e9</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level52-restore"><a href="#Level52-restore" class="headerlink" title="Level52: restore"></a>Level52: restore</h1><p>You decided to delete your latest commit by running <code>git reset --hard HEAD^</code>.  (Not a smart thing to do.)  You then change your mind, and want that commit back.  Restore the deleted commit.</p>
<p>reflog命令的使用，找回被删除的commit（被坑过，全是泪）<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git reflog</div><div class="line">git checkout <span class="number">3e84</span>a7e</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level53-conflict"><a href="#Level53-conflict" class="headerlink" title="Level53: conflict"></a>Level53: conflict</h1><p>You need to merge mybranch into the current branch (master). But there may be some incorrect changes in mybranch which may cause conflicts. Solve any merge-conflicts you come across and finish the merge.</p>
<p>修复合并后的冲突，刚实习的时候也被这个坑过<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">merge</span> mybranch</div><div class="line">git mergetool</div><div class="line">git <span class="keyword">commit</span> -m <span class="string">"merged"</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level54-submodule"><a href="#Level54-submodule" class="headerlink" title="Level54: submodule"></a>Level54: submodule</h1><p>You want to include the files from the following repo: <code>https://github.com/jackmaney/githug-include-me</code> into a the folder <code>./githug-include-me</code>. Do this without cloning the repo or copying the files from the repo into this repo.</p>
<p>submodule命令的使用<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git submodule <span class="built_in">add</span> http<span class="variable">s:</span>//github.<span class="keyword">com</span>/jackmaney/githug-include-<span class="keyword">me</span> githug-include-<span class="keyword">me</span></div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Level55-contribute"><a href="#Level55-contribute" class="headerlink" title="Level55: contribute"></a>Level55: contribute</h1><p>This is the final level, the goal is to contribute to this repository by making a pull request on Github.  Please note that this level is designed to encourage you to add a valid contribution to Githug, not testing your ability to create a pull request.  Contributions that are likely to be accepted are levels, bug fixes and improved documentation.</p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/01/16/用三种方法解决iOS8中TableViewCell的RightDetail不显示内容的问题/" class="prev">上一篇</a><a href="/2015/12/12/记一个iOS开发中cell的重用机制引发的错误/" class="next">下一篇</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'altair21-note';
var disqus_identifier = '2016/01/08/githug攻略(1~55)/';
var disqus_title = 'githug攻略(1~55)';
var disqus_url = 'http://note.altair21.org/2016/01/08/githug攻略(1~55)/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//altair21-note.disqus.com/count.js" async></script><div class="copyright"><p>© 2014 - 2017 <a href="http://note.altair21.org">altair21</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-56273068-4",'auto');ga('send','pageview');</script></body></html>